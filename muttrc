set realname = "Roben Kleene"
set smtp_authenticators = "gssapi:login"
set ssl_force_tls=yes

# Cache
set header_cache = "~/.mutt/cache/headers"
set message_cachedir = "~/.mutt/cache/bodies"
set certificate_file = "~/.mutt/certificates"

# Switching to folders without spaces breaks without this
bind editor <space> noop

# Vim
bind index,pager N search-opposite
bind index,pager,generic \Cu half-up
bind index,pager,generic \Cd half-down
bind index,pager,generic \Cb previous-page
bind index,pager,generic \Cf next-page
bind pager \  next-page
bind pager - previous-page
bind generic gg first-entry
bind pager gg top
bind generic G last-entry
bind pager G bottom
bind pager k previous-line
bind pager j next-line
bind pager <up> previous-line
bind pager <down> next-line
bind index <Up> previous-entry
bind index <Down> next-entry
bind index zz current-middle
bind index zt current-top
bind index zb current-bottom
bind browser r check-new
bind index r imap-fetch-mail
macro generic,index \ si '<enter-command>source ~/.muttrc<enter>'

source ~/.muttrc_local

# Folders
set folder = "$my_root_folder"
set record= "+$my_sent"
set postponed = "+$my_drafts"

# Gmail
macro index - "<change-folder>?"
macro browser - "<change-dir><kill-line>$my_root_folder<enter>"
folder-hook . macro index,pager y "<save-message>=$my_archive<enter><enter>"
folder-hook =Archive bind index,pager y noop
bind pager u exit
macro index,pager v "<save-message>"
macro index,pager gl "<change-folder>"
macro index,pager gi "<change-folder>=INBOX<enter>"
macro index,pager ga "<change-folder>=$my_archive<enter>"
macro index,pager gd "<change-folder>=$my_drafts<enter>"
macro index,pager gt "<change-folder>=$my_sent<enter>"
